"use strict";$(function(){function a(){b||(b=$("#blog > .post .aside").map(function(){return $(this).closest(".post")})),b.each(function(){var a=$(this).closest(".post"),b=a.find(".aside").css("margin-top","0"),c=a.find(".rightColumn"),d=a.find(".leftColumn"),e=Math.floor(d.height()-c.height())+9;e>0&&b.css("margin-top",e+"px")})}var b;a();setTimeout(a,1500);$(window).resize(a)}),$(function(){function a(a){clearTimeout(g),f&&4!=f.readyState&&f.abort(),g=setTimeout(function(){f=$.ajax({url:"/api/search?q="+a,success:function(a){i.html("");var b=$('<div class="large-6 columns"></div>').appendTo(i),c=$('<div class="large-6 columns"></div>').appendTo(i);$.each(a,function(a,d){var e=$('<div class="hit"></div>'),f=location.pathname+"/"+d.path;d.wideImage&&$("<img />").attr("src",d.wideImage+"?v=medium").attr("style","width: 100%;").appendTo(e),$("<a></a>").attr("href",f).html("<h3>"+d.titleHighlight+"</h3>").appendTo(e),$("<h5></h5>").text(moment(d.time).format("LL")).appendTo(e),!d.wideImage&&d.image&&$("<img />").attr("src",d.image+"?v=tiny").attr("style","float: right; padding-left: 5px; padding-bottom: 10px;").appendTo(e);var g=$('<p class="contentHighlight"></p>').html(d.contentHighlight).appendTo(e);$("<a></a>").attr("href",f).html(j).appendTo(g),$("<hr/>").appendTo(e),e.appendTo(a%2===0?b:c)})},fail:function(){i.html("")}})},250)}function b(a){var b="animatedShow",c="animatedHide";a===!0?(i.html(""),h.val(""),$("#blog").addClass(c).removeClass(b),setTimeout(function(){$("#blog").hide(),$("#search").addClass(b).removeClass(c).show(),setTimeout(function(){h.focus()},500)},500)):($("#search").addClass(c).removeClass(b).show(),setTimeout(function(){$("#search").hide(),$("#blog").addClass(b).removeClass(c).show()},500))}function c(){$(['<span id="openSearch" class="fa-stack fa-lg right show-for-medium-up">','  <i class="fa fa-square fa-stack-2x"></i>','  <i class="fa fa-search fa-stack-1x fa-inverse"></i>',"</span>"].join("")).prependTo($("#title .columns"))}c();{var d=$("#openSearch"),e=$("#search");$("#blog"),$("#searchResults")}d.click(function(){b(e.is(":hidden"))}),$("#closeSearch").click(function(){b(!1)});var f,g,h=$("#searchForm input"),i=$("#searchResults"),j=$(".readMoreButton:first").html();h.on("input",function(){var b=$(this).val();a(b)})});